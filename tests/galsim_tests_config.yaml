# This defines which tests from the GalSim suite will run
enabled_tests:
  galsim:
    - test_gaussian.py
    - test_exponential.py
    - test_moffat.py
    - test_spergel.py
    - test_sum.py
    - test_transforms.py
    - test_convolve.py
    - test_fitsheader.py
    - test_utilities.py
    - test_shear.py
    - test_shear_position.py
    - test_wcs.py
    - test_box.py
    - test_interpolatedimage.py
    - test_deltafunction.py
    - test_draw.py
    - test_random.py
    - test_noise.py
    - test_image.py
    - test_photon_array.py
    - "*"  # means all tests from galsim
  coord:
    - test_angle.py
    - test_angleunit.py
    - test_astropy.py
    - test_celestial.py

# This documents which error messages will be allowed
# without being reported as an error. These typically
# correspond to features that are not implemented yet
# in jax_galsim
allowed_failures:
  - "Real-space convolutions are not implemented"
  - "module 'jax_galsim' has no attribute 'Airy'"
  - "module 'jax_galsim' has no attribute 'Kolmogorov'"
  - "module 'jax_galsim' has no attribute 'Sersic'"
  - "module 'jax_galsim' has no attribute 'DeVaucouleurs'"
  - "module 'jax_galsim' has no attribute 'UncorrelatedNoise'"
  - "module 'jax_galsim' has no attribute 'Shapelet'"
  - "module 'jax_galsim' has no attribute 'UVFunction'"
  - "module 'jax_galsim' has no attribute 'AstropyWCS'"
  - "module 'jax_galsim' has no attribute 'WcsToolsWCS'"
  - "module 'jax_galsim' has no attribute 'AutoCorrelate'"
  - "module 'jax_galsim' has no attribute 'AutoConvolve'"
  - "module 'jax_galsim' has no attribute 'TopHat'"
  - "module 'jax_galsim.integ' has no attribute 'midpt'"
  - "module 'jax_galsim.integ' has no attribute 'trapz'"
  - "module 'jax_galsim.integ' has no attribute 'midptRule'"
  - "module 'jax_galsim.integ' has no attribute 'trapzRule'"
  - "module 'jax_galsim.integ' has no attribute 'quadRule'"
  - "module 'jax_galsim.integ' has no attribute 'hankel'"
  - "module 'jax_galsim.utilities' has no attribute 'roll2d'"
  - "module 'jax_galsim.utilities' has no attribute 'kxky'"
  - "module 'jax_galsim.utilities' has no attribute 'deInterleaveImage'"
  - "module 'jax_galsim.utilities' has no attribute 'interleaveImages'"
  - "module 'jax_galsim.utilities' has no attribute 'LRU_Cache'"
  - "module 'jax_galsim.utilities' has no attribute 'rand_with_replacement'"
  - "module 'jax_galsim.utilities' has no attribute 'dol_to_lod'"
  - "module 'jax_galsim.utilities' has no attribute 'nCr'"
  - "module 'jax_galsim' has no attribute 'LookupTable'"
  - "module 'jax_galsim.bessel' has no attribute 'j1'"
  - "module 'jax_galsim.bessel' has no attribute 'jn'"
  - "module 'jax_galsim.bessel' has no attribute 'jv'"
  - "module 'jax_galsim.bessel' has no attribute 'yn'"
  - "module 'jax_galsim.bessel' has no attribute 'yv'"
  - "module 'jax_galsim.bessel' has no attribute 'iv'"
  - "module 'jax_galsim.bessel' has no attribute 'kn'"
  - "module 'jax_galsim.bessel' has no attribute 'j0_root'"
  - "module 'jax_galsim.bessel' has no attribute 'gammainc'"
  - "module 'jax_galsim.bessel' has no attribute 'sinc'"
  - "module 'jax_galsim.bessel' has no attribute 'ci'"
  - "object has no attribute 'calculateHLR'"
  - "object has no attribute 'calculateMomentRadius'"
  - "object has no attribute 'calculateFWHM'"
  - "module 'jax_galsim' has no attribute 'Catalog'"
  - "module 'jax_galsim' has no attribute 'Dict'"
  - "module 'jax_galsim' has no attribute 'OutputCatalog'"
  - "module 'jax_galsim' has no attribute 'cdmodel'"
  - "module 'jax_galsim' has no attribute 'ChromaticObject'"
  - "module 'jax_galsim' has no attribute 'ChromaticAiry'"
  - "module 'jax_galsim' has no attribute 'config'"
  - "module 'jax_galsim' has no attribute 'RealGalaxyCatalog'"
  - "'Image' object has no attribute 'bin'"
  - "module 'jax_galsim' has no attribute 'InterpolatedKImage'"
  - "module 'jax_galsim' has no attribute 'CorrelatedNoise'"
  - "CelestialCoord.precess is too slow"  # cannot get jax to warmup but once it does it passes
  - "ValueError not raised by from_xyz"
  - "ValueError not raised by greatCirclePoint"
  - "TypeError not raised by __mul__"
  - "ValueError not raised by CelestialCoord"
  - "module 'jax_galsim' has no attribute 'BaseCorrelatedNoise'"
  - "module 'jax_galsim' has no attribute 'fft'"
  - "Transform does not support callable arguments."
  - "The JAX galsim.BaseDeviate does not support being used as a numpy PRNG."
  - "pad_image not implemented in jax_galsim."
  - "InterpolatedImages do not support noise padding in jax_galsim."
  - "module 'jax_galsim' has no attribute 'FittedSIPWCS'"
  - "module 'jax_galsim' has no attribute 'Bandpass'"
  - "module 'jax_galsim' has no attribute 'Refraction'"
  - "module 'jax_galsim' has no attribute 'FRatioAngles'"
  - "module 'jax_galsim' has no attribute 'PupilAnnulusSampler'"
  - "module 'jax_galsim' has no attribute 'TimeSampler'"
  - "object has no attribute 'noise'"
  - "module 'jax_galsim' has no attribute 'SED'"
  - "module 'jax_galsim' has no attribute 'getCOSMOSNoise'"
  - "GSParams.__init__() got an unexpected keyword argument 'allowed_flux_variation'"
  - "module 'jax_galsim' has no attribute 'Atmosphere'"
  - "module 'jax_galsim' has no attribute 'RandomWalk'"
  - "module 'jax_galsim' has no attribute 'hsm'"
  - "module 'jax_galsim' has no attribute 'des'"
  - "'Image' object has no attribute 'applyNonlinearity'"
  - "'Image' object has no attribute 'addReciprocityFailure'"
  - "'Image' object has no attribute 'quantize'"
  - "'Image' object has no attribute 'applyIPC'"
  - "'Image' object has no attribute 'applyPersistence'"
  - "module 'jax_galsim' has no attribute 'download_cosmos'"
  - "module 'jax_galsim' has no attribute 'FourierSqrt'"
  - "module 'jax_galsim' has no attribute 'COSMOSCatalog'"
  - "module 'jax_galsim' has no attribute 'include_dir'"
  - "module 'jax_galsim' has no attribute 'VonKarman'"
  - "module 'jax_galsim' has no attribute 'InclinedExponential'"
  - "module 'jax_galsim' has no attribute 'RandomKnots'"
  - "module 'jax_galsim' has no attribute 'NFWHalo'"
  - "module 'jax_galsim' has no attribute 'Cosmology'"
  - "module 'jax_galsim' has no attribute 'PowerSpectrum'"
  - "module 'jax_galsim' has no attribute 'lensing_ps'"
  - "module 'jax_galsim' has no attribute 'main'"
  - "module 'jax_galsim' has no attribute 'OpticalPSF'"
  - "module 'jax_galsim' has no attribute 'Aperture'"
  - "module 'jax_galsim' has no attribute 'AtmosphericScreen'"
  - "module 'jax_galsim' has no attribute 'OpticalScreen'"
  - "module 'jax_galsim' has no attribute 'ChromaticConvolution'"
  - "module 'jax_galsim' has no attribute 'phase_screens'"
  - "module 'jax_galsim' has no attribute 'DistDeviate'"
  - "module 'jax_galsim' has no attribute 'roman'"
  - "module 'jax_galsim' has no attribute 'meta_data'"
  - "module 'jax_galsim' has no attribute 'SecondKick'"
  - "module 'jax_galsim.utilities' has no attribute 'combine_wave_list'"
  - "Sensor/photon_ops not yet implemented in drawImage for method != 'phot'"
  - "module 'jax_galsim' has no attribute 'SiliconSensor'"
  - "module 'jax_galsim' has no attribute 'set_omp_threads'"
  - "module 'jax_galsim' has no attribute 'LookupTable2D'"
  - "module 'jax_galsim' has no attribute 'zernike'"
  - "Invalid TFORM4: 1PE(7)"  # see https://github.com/astropy/astropy/issues/15477
  - "JAX-GalSim does not support truncated Moffat profiles!"
